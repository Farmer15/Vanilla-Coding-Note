# child_process 란?

### 프로세스란?

하나 이상의 스레드에 의해 실행되는 컴퓨터 프로그램의 인스턴스를 말합니다.

- 운영체제(OS)에 뿌리를 두고 있어서 명령을 동시에 실행하는 스레드로 구성될 수 있다.
    - OS : 프로그램 코드, 할당된 시스템 리소스, 물리적 및 논리적 액세스 권한, 실행 활동 등.. 을 시작, 제어하는 역할 한다
- 프로세스란 디스크에서 메모리로 로드된 후 해당 명령을 실행하는 것을 나타냅니다.
- 각 프로세서(CPU) 는 한번에 하나의 프로세스를 처리 할 수 있고 중간에 멀티태스킹을 이용하여 실행 중인 작업간 전환이 가능합니다.

### 자식 프로세스,  하위 프로세스란?

- 상위 프로세스에 의해 생성된 프로세스로 멀티 태스킹, 작업의 분산, 효율적인 자원 사용, 독립적인 실행을 위해 생성된 프로세스

- 자식 프로세스 : 상위 프로세스의 자원을 상속받아 독립적으로 실행 될 수 있는 프로세스로 자체적인 메모리 공간과 실행 흐름을 가질 수 있습니다.(1개의 계층 차이만 존재 합니다.)

- 하위 프로세스 : 여러개의 중첩된 자식, 부모 프로세스 사이에 계층을 구조를 강조할때 쓰는 단어로 어떤 특정 프로세스 하위에 있는 모든 프로세스를 하위 프로세슷라고 부를 수 있습니다.(여러개의 계층 사이가 존재 할 수 있습니다.)

### Child_Process

[관련 자료](https://www.freecodecamp.org/korean/news/node-js-child-processes-everything-you-need-to-know-e69498fe970a/)

Node.js 에서 자식 프로세스를 만들때 쉽게 만들수 있게 도와주는 모듈로써 자식 프로세스들은 메세징 시스템을 통해 서로 쉽게 소통할 수 있고 4가지의 방법을 통해 만들 수 있습니다. `spawn(), fork()`, `exec()`, `execFile()`.

### Spawn

- 긴 시간 동안 실행될 수 있는 외부 명령어를 호출 할 때 사용하는 함수로 출력 결과를 스트리밍 방식으로 받을 수 있습니다.
    - 스트리밍 방식: 데이터를 한 번에 모두 전송 받지 않고 데이터의 일부를 순차적으로(즉시) 전송하고 처리하는 방식
- 긴 시간 동안 실행 될 수 있는 외부 명령어를 호출할 때 유용합니다. (실시간으로 결과를 받을 수 있어서)
- 비동기적으로 작동되기 때문에 부모 프로세스의 이벤트 루프를 막지 않는다.
- 메모리 사용이 효율적입니다.

### Fork

- fork 를 사용하여 자식 프로세스를 만들시 부모 자식간에 IPC 를 통해 메세지를 주고 받을 수 있는 채널을 자동적으로 생성해줍니다.
- 부모 자식 프로세스간에 많은 메세지 전달이 필요할 경우 사용
- 독립적인 javascript 실행환경을 가집니다.
- 추가적인 IPC 채널이 생성되므로 간단한 작업에서는 과할 수 있습니다.

### exec

- 해당 프로세스의 반환값은 한 번에 버퍼에 수집 하여 콜백함수로 전달 하는 방식으로 동작합니다.
- 결과를 한번에 받을 수 있어서 간편합니다.
- 동기적으로 버퍼에 결과를 저장하므로 대용량 작업에 비효율 적일 수동 있습니다

### execFile

- 전체 명령어를 셀을 통해 실행하는 것이 아라 직접 파일과 인자를 직접 전달해줍니다.(셀을 쓰지않아 보안적으로 유리)
- 추가적인 쉘을 생성하지 않으므로 성능아 더 잘 나올수 있습니다.
- 복잡한 셀 명령어를 실행할 수 없습니다.
- 명령어와 인자를 명확하게 구분해야 합니다.

### 셀이란?

[참고자료](https://www.datacamp.com/blog/what-is-shell)

Linux, Unix 사용자의 명령줄 인터페이스로 운영 체제를 제어할 수 있게 도와 주는 명령줄 인터프리터로 셸을 이용해서 사용자와 운영체제가 효율적으로 통신 할 수 있습니다.