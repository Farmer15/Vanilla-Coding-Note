# 일렉트론 파일,폴더 체크 메서드 비교

### 파일 존재 여부체크 메서드들

- fs.existsSync()
    - 동기 메서드로, 파일이나 디렉토리가 존재하면 true, false 를 반환합니다.
    - 동기 메서드여서 큰 파일이나 네트워크 파일 시스템에서 성능 문제를 일으킬 수 있습니다.
    
- fs.access()
    - 비동기 메서드로 콜백함수를 받아 결과를 처리합니다.
        - 여러개의 파일 또는 폴더 존재여부를 판단할 수 있습니다.
    - 사용시 콜백 패턴을 사용해서 처리해주어야 합니다.
    - 파일이 존재하지 않거나 하면 에러를 던집니다.

- fs.promises.access()
    - 위에 fs.access() 메서드의 promise 버젼으로 async/await 를 같이 사용할 수 있습니다.
    - 에러 캐치를 try/catch 를 사용하여 처리 할 수 있습니다.

- fs.statSync()
    - 인자로 받는 파일의 상태를 알 수 있는 동기 메서드입니다.
    - 파일의 존재 여부를 알려줄 뿐 아니라 다른 정보의 대한 메타데이터를 받을 수 있습니다. (파일 크기, 수정 시간, 등등)
    - 파일이 존재 하지 않을 시 에러를 던집니다.
    - 동기 메서드여서 try catch 를 이용하여 에러처리를 할 수 있습니다.

- fs.stat()
    - 위에 메서드 fs.statSync() 의 비동기 메서드입니다.
    - 비동기 메서드여서 콜백함수에서 결과처리가 가능합니다.
    - 콜백패턴을 사용할 수 있습니다.
    - 나머지 특징들은  fs.statSync() 와 동일합니다.

### 동기 메서들 vs 비동기 메서드

- 동기 메서드 장점
    - 코드 흐름이 직관적이고 간결합니다.
    - 코드의 흐름이 순차적으로 진행이 되어서 디버깅하기가 용이 합니다.

- 동기 메서드의 단점
    - 블로킹이 발생하여서 다른 작업이 진행되지 않아 전체 애플리케이션의 응답성이 저하 될 수 있고
    - 사용자 경험 측면에서도 UI 멈춤 증상이 발생해서 경험을 저하시킬 수 있다.

- 비동기 메서드 장점
    - I.O 작업을 기다리지 않고 다른 작업을 수행 할 수 있습니다.
    - UI 가 멈춤이 발생하지 않아서 사용자 경험을 개선시킬 수 있습니다.
    - 서버 애플리케이션이 많은 트래픽을 처리 할 수 있습니다.
    - 교착상태(Deadlock)가 발생할 수 도 있습니다.
        
        ![image.png](%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%85%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AB%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF,%E1%84%91%E1%85%A9%E1%86%AF%E1%84%83%E1%85%A5%20%E1%84%8E%E1%85%A6%E1%84%8F%E1%85%B3%20%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3%20%E1%84%87%E1%85%B5%E1%84%80%E1%85%AD%20b1aa4d84aa30407693ac9e7e6a64537f/image.png)
        
- 비동기 메서드 단점
    - 비동기 작업이 서로 의존하고 있는 경우 코드흐름이 복잡해져서 가독성이 떨어지고 흐름을 읽기 어렵게 만듭니다.
    - 에러가 발생할 시 이벤트루프에서 처리하기 때문에 디버깅에 어려움이 발생할 수 있습니다.
    - 실행 순서가 보장되지 않아 데이터가 손상되거나 비일관성이 발생할 수 있습니다.